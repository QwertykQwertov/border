(function(){"use strict";var t={2193:function(t,e,a){var r=a(6369),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("DataGrid"),e("Chart")],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("DxChart",{staticStyle:{width:"99%"},attrs:{"data-source":t.store.stats,palette:"Violet",title:"Динамика количества попыток пересечения границы по дням"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"message_dt"}}),e("DxCommonAxisSettings",[e("DxGrid",{attrs:{visible:!0}})],1),t._l(t.architectures,(function(t){return e("DxSeries",{key:t.value,attrs:{"value-field":t.value,name:t.name}})})),e("DxMargin",{attrs:{bottom:20}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}},[e("DxLabel",[e("DxFormat",{attrs:{type:"decimal"}})],1)],1),e("DxScrollBar",{attrs:{visible:!0}}),e("DxZoomAndPan",{attrs:{"argument-axis":"both"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center"}}),e("DxTooltip",{attrs:{enabled:!0}})],2),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.airports,title:"Статистика аэропортов за сегодня"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"iata_code",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.airportTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.airportsAllTime,title:"Статистика аэропортов за все время"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"iata_code",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно",color:"#04a863"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли",color:"#ee1c25"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.airportTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1)],1)},i=[],l=a(8563),c={allMessages:new l.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/stats_all_time").then((t=>t.json())).then((t=>(t.forEach(((e,a)=>t[a].success_percent=e.success_percent+"%")),t)))}}),stats:new l.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/stats").then((t=>t.json())).then((t=>(t.sort(((t,e)=>t.message_dt===e.message_dt?0:t.message_dt>e.message_dt?1:-1)),t)))}}),transport:new l.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/transport").then((t=>t.json())).then((t=>{const e=new Date;return t.forEach(((e,a)=>t[a].success_percent=(e.success_cnt/e.cnt*100).toFixed(2)+"%")),t=t.filter((t=>t.message_dt===e.toISOString().slice(0,10))),t}))}}),airports:new l.Z({key:"transport_type",load(){let t=new Date;return t=t.toISOString().slice(0,10),fetch(`https://border-api.artydev.ru/api/v1/airport?begin_date=${t}`).then((t=>t.json())).then((t=>t))}}),airportsAllTime:new l.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/airport_all_time").then((t=>t.json())).then((t=>t))}})},u=a(7081),d=a.n(u),m=a(5699),p={components:{DxPieChart:d(),DxLegend:u.DxLegend,DxSeries:u.DxSeries,DxTooltip:u.DxTooltip,DxLabel:m.DxLabel,DxConnector:u.DxConnector,DxExport:u.DxExport,DxChart:m.DxChart,DxArgumentAxis:m.DxArgumentAxis,DxCommonSeriesSettings:m.DxCommonSeriesSettings,DxCommonAxisSettings:m.DxCommonAxisSettings,DxGrid:m.DxGrid,DxMargin:m.DxMargin,DxFormat:m.DxFormat,DxScrollBar:m.DxScrollBar,DxZoomAndPan:m.DxZoomAndPan},data(){return{store:c,angle:45,architectures:[{value:"cnt",name:"Всего попыток"},{value:"success_cnt",name:"Успешно"},{value:"failed_cnt",name:"Не пропустили"}]}},methods:{airportTooltip(t){return{text:`${t.point.data.airport_name}<br>${t.seriesName}: ${t.valueText}<br>${(100*t.percent).toFixed(2)}%`}},customizeTooltip({percent:t}){return{text:`${(100*t).toFixed(2)}%`}},customizeTooltip2(t){return{text:`${t.argumentText}<br>${t.seriesName}: ${t.valueText}`}},customizeTooltip3(t){return console.log(t),{text:`${t.argumentText}<br>${t.seriesName}: ${t.valueText}<br>${(100*t.percent).toFixed(2)}%`}}}},x=p,f=a(1001),D=(0,f.Z)(x,o,i,!1,null,null,null),g=D.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h1",[t._v("Стастистика прохождения пограничного контроля")]),t._m(0),e("div",{staticStyle:{display:"flex","align-items":"flex-start","margin-top":"1%","flex-wrap":"wrap","justify-content":"space-around"}},[e("div",{staticClass:"gridContainer"},[e("h4",[t._v("Общая")]),e("DxDataGrid",{ref:"gridAll",attrs:{"data-source":t.store.allMessages,"show-borders":!0,"focused-row-enabled":!0}},[e("DxColumn",{attrs:{"data-field":"transport_type",caption:"Вид транспорта","data-type":"string"}}),e("DxColumn",{attrs:{"data-field":"cnt",caption:"Количество","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_cnt",caption:"Успешно прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"failed_cnt",caption:"Не прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_percent",caption:"Процент прошедших","data-type":"string",alignment:"right"}}),e("DxSummary",[e("DxTotalItem",{attrs:{"display-format":"Всего:"}}),e("DxTotalItem",{attrs:{column:"cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"success_cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"failed_cnt","summary-type":"sum","display-format":"Всего: {0}"}})],1),e("DxSorting",{attrs:{mode:"multiple"}})],1)],1),e("div",{staticClass:"gridContainer"},[e("h4",[t._v("За сегодня")]),e("DxDataGrid",{ref:"gridToday",attrs:{"data-source":t.store.transport,"show-borders":!0,"focused-row-enabled":!0}},[e("DxColumn",{attrs:{"data-field":"transport_type",caption:"Вид транспорта","data-type":"string"}}),e("DxColumn",{attrs:{"data-field":"cnt",caption:"Количество","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_cnt",caption:"Успешно прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"failed_cnt",caption:"Не прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_percent",caption:"Процент прошедших","data-type":"string",alignment:"right"}}),e("DxSummary",[e("DxTotalItem",{attrs:{"display-format":"Всего:"}}),e("DxTotalItem",{attrs:{column:"cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"success_cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"failed_cnt","summary-type":"sum","display-format":"Всего: {0}"}})],1),e("DxSorting",{attrs:{mode:"multiple"}})],1)],1)])])},h=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","align-items":"flex-start","justify-content":"space-evenly"}},[e("p",[e("a",{staticClass:"link",attrs:{href:"https://pay.cloudtips.ru/p/2a3d8e17",target:"_blank"}},[e("img",{staticClass:"linkIcon",attrs:{src:a(647),alt:"Пожертвовать"}}),t._v(" Подкинуть монету разработчикам")])]),e("p",[e("a",{staticClass:"link",attrs:{href:"https://t.me/+lUS8sdQPGMkzNDhi",target:"_blank"}},[e("img",{staticClass:"linkIcon",attrs:{src:a(7095),alt:"Ссылка на телеграм"}}),t._v(" Подписывайся, чтобы следить за изменениями")])])])}],v=a(9119),_=a(6224),b=a.n(_),S=(a(8394),{name:"DataGrid",components:{DxDataGrid:v.DxDataGrid,DxColumn:v.DxColumn,DxSummary:v.DxSummary,DxTotalItem:v.DxTotalItem,DxSorting:v.DxSorting,DxSearchPanel:v.DxSearchPanel,DxButton:b()},data(){return{store:c}}}),C=S,T=(0,f.Z)(C,y,h,!1,null,"483f9134",null),w=T.exports,k={name:"App",components:{DataGrid:w,Chart:g},data(){return{store:c}}},A=k,j=(0,f.Z)(A,n,s,!1,null,null,null),O=j.exports;r["default"].config.productionTip=!1,new r["default"]({render:t=>t(O)}).$mount("#app")},647:function(t,e,a){t.exports=a.p+"img/ruble.15930bca.svg"},7095:function(t,e,a){t.exports=a.p+"img/telega.3a0f6be9.svg"}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,s){if(!r){var o=1/0;for(u=0;u<t.length;u++){r=t[u][0],n=t[u][1],s=t[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(i=!1,s<o&&(o=s));if(i){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[r,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(e&&e(r);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},r=self["webpackChunktable_of_borders"]=self["webpackChunktable_of_borders"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(2193)}));r=a.O(r)})();
//# sourceMappingURL=app.dbf76fd4.js.map