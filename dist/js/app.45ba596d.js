(function(){"use strict";var t={1315:function(t,e,a){var r=a(6369),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Header",{on:{openPopup:t.showPopup}}),e("DataGrid"),e("Chart"),e("Footer"),e("DxPopup",{attrs:{visible:t.popupVisible,"drag-enabled":!1,"hide-on-outside-click":!0,"show-title":!0,"show-close-button":!0,width:"50%",height:t.heightPopup,title:"О проекте"},on:{hiding:t.onHiding}},[e("p",[e("span",[t._v("Наша команда")]),t._v(" собрала статистику всех пересечений границ (по данным телеграмм-канала "),e("a",{staticClass:"link",staticStyle:{color:"black","text-decoration":"underline"},attrs:{href:"https://t.me/+r15hFvTaWhM5MDUy",target:"_blank"}},[e("b",[t._v("Пограничный контроль")])]),t._v("), разметили по типам транспорта, аэропорта отправления и визуализировали в одном месте. ")]),e("p",[t._v(" Теперь смотреть статистику по проценту успешных проходов границы стало сильно удобнее."),e("br"),t._v(" Наш телеграмм канал: "),e("a",{staticClass:"link",staticStyle:{color:"black","text-decoration":"underline"},attrs:{href:"https://t.me/artydevc",target:"_blank"}},[e("b",[t._v("artydev & Co")])]),t._v(", там будем публиковать информацию по доработкам графиков и разметке информации ")])])],1)},s=[],o=function(){var t=this,e=t._self._c;return e("div",[e("nav",[e("div",{staticClass:"nav-wrapper"},[t._m(0),e("ul",{staticClass:"right",attrs:{id:"nav-mobile"}},[e("li",[e("a",{attrs:{href:"#"},on:{click:t.showPopup}},[t._v("О проекте")])])])])])])},i=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"brand-logo",staticStyle:{"margin-left":"1%"},attrs:{href:"#"}},[e("img",{staticClass:"logoIcon",attrs:{src:a(9574),alt:"Logo"}})])}],l=(a(5797),{name:"Header",data(){return{}},methods:{showPopup(){this.$emit("openPopup")}}}),c=l,d=a(1001),u=(0,d.Z)(c,o,i,!1,null,"89a57118",null),p=u.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("DxChart",{staticStyle:{width:"98%"},attrs:{"data-source":t.store.stats,palette:"Violet",title:"Динамика количества попыток пересечения границы по дням"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"message_dt"}}),e("DxCommonAxisSettings",[e("DxGrid",{attrs:{visible:!0}})],1),t._l(t.architectures,(function(t){return e("DxSeries",{key:t.value,attrs:{"value-field":t.value,name:t.name}})})),e("DxMargin",{attrs:{bottom:20}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}},[e("DxLabel",[e("DxFormat",{attrs:{type:"decimal"}})],1)],1),e("DxScrollBar",{attrs:{visible:!0}}),e("DxZoomAndPan",{attrs:{"argument-axis":"both"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center"}}),e("DxTooltip",{attrs:{enabled:!0}})],2),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.airports,title:"Статистика аэропортов за сегодня"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"iata_code",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.airportTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.airportsAllTime,title:"Статистика аэропортов за все время"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"iata_code",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно",color:"#04a863"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли",color:"#ee1c25"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.airportTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.destinationsToday,title:"Статистика по странам прибытия за сегодня"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"destination",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно",color:"#233291"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли",color:"#ee1c25"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.destinationTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1),e("DxChart",{staticClass:"chart",attrs:{id:"chart","data-source":t.store.destinationsAllTime,title:"Статистика по странам прибытия за все время"}},[e("DxCommonSeriesSettings",{attrs:{"argument-field":"destination",type:"stackedbar"}}),e("DxSeries",{attrs:{"value-field":"success_cnt",name:"Успешно",color:"#315e22"}}),e("DxSeries",{attrs:{"value-field":"failed_cnt",name:"Не прошли",color:"#ee1c25"}}),e("DxLegend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"top"}}),e("DxTooltip",{attrs:{enabled:!0,"customize-tooltip":t.destinationTooltip,location:"edge"}}),e("DxArgumentAxis",{attrs:{"allow-decimals":!1,"axis-division-factor":60}})],1)],1)},x=[],f=a(8563),g={allMessages:new f.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/stats_all_time").then((t=>t.json())).then((t=>(t.forEach(((e,a)=>t[a].success_percent=e.success_percent+"%")),t)))}}),stats:new f.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/stats").then((t=>t.json())).then((t=>(t.sort(((t,e)=>t.message_dt===e.message_dt?0:t.message_dt>e.message_dt?1:-1)),t)))}}),transport:new f.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/transport").then((t=>t.json())).then((t=>{const e=new Date;return t.forEach(((e,a)=>t[a].success_percent=(e.success_cnt/e.cnt*100).toFixed(2)+"%")),t=t.filter((t=>t.message_dt===e.toISOString().slice(0,10))),t}))}}),airports:new f.Z({key:"transport_type",load(){let t=new Date;return t=t.toISOString().slice(0,10),fetch(`https://border-api.artydev.ru/api/v1/airport?begin_date=${t}`).then((t=>t.json())).then((t=>t))}}),airportsAllTime:new f.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/airport_all_time").then((t=>t.json())).then((t=>t))}}),destinationsAllTime:new f.Z({key:"transport_type",load(){return fetch("https://border-api.artydev.ru/api/v1/destination_all_time").then((t=>t.json())).then((t=>(t.sort(((t,e)=>e.cnt-t.cnt)),t)))}}),destinationsToday:new f.Z({key:"transport_type",load(){let t=new Date;return t=t.toISOString().slice(0,10),fetch(`https://border-api.artydev.ru/api/v1/destination?begin_date=${t}`).then((t=>t.json())).then((t=>(t.sort(((t,e)=>e.cnt-t.cnt)),t)))}})},h=a(7081),v=a(5699),D={components:{DxLegend:h.DxLegend,DxSeries:h.DxSeries,DxTooltip:h.DxTooltip,DxLabel:v.DxLabel,DxChart:v.DxChart,DxArgumentAxis:v.DxArgumentAxis,DxCommonSeriesSettings:v.DxCommonSeriesSettings,DxCommonAxisSettings:v.DxCommonAxisSettings,DxGrid:v.DxGrid,DxMargin:v.DxMargin,DxFormat:v.DxFormat,DxScrollBar:v.DxScrollBar,DxZoomAndPan:v.DxZoomAndPan},data(){return{store:g,angle:45,architectures:[{value:"cnt",name:"Всего попыток"},{value:"success_cnt",name:"Успешно"},{value:"failed_cnt",name:"Не пропустили"}]}},methods:{destinationTooltip(t){return{text:`${t.point.data.destination}<br>${t.seriesName}: ${t.valueText}<br>${(100*t.percent).toFixed(2)}%`}},airportTooltip(t){return{text:`${t.point.data.airport_name}<br>${t.seriesName}: ${t.valueText}<br>${(100*t.percent).toFixed(2)}%`}},customizeTooltip({percent:t}){return{text:`${(100*t).toFixed(2)}%`}},customizeTooltip2(t){return{text:`${t.argumentText}<br>${t.seriesName}: ${t.valueText}`}},customizeTooltip3(t){return console.log(t),{text:`${t.argumentText}<br>${t.seriesName}: ${t.valueText}<br>${(100*t.percent).toFixed(2)}%`}}}},_=D,y=(0,d.Z)(_,m,x,!1,null,null,null),b=y.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-wrapper"},[e("h1",[t._v("Стастистика прохождения пограничного контроля")]),t._m(0),e("div",{staticStyle:{display:"flex","align-items":"flex-start","margin-top":"1%","flex-wrap":"wrap","justify-content":"space-around"}},[e("div",{staticClass:"gridContainer"},[e("h4",[t._v("Общая")]),e("DxDataGrid",{ref:"gridAll",attrs:{"data-source":t.store.allMessages,"show-borders":!0,"focused-row-enabled":!0},on:{"cell-prepared":t.setPercentColor}},[e("DxColumn",{attrs:{"data-field":"transport_type",caption:"Вид транспорта","data-type":"string"}}),e("DxColumn",{attrs:{"data-field":"cnt",caption:"Количество","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_cnt",caption:"Успешно прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"failed_cnt",caption:"Не прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_percent",caption:"Процент прошедших","data-type":"string",alignment:"right"}}),e("DxSummary",[e("DxTotalItem",{attrs:{"display-format":"Всего:"}}),e("DxTotalItem",{attrs:{column:"cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"success_cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"failed_cnt","summary-type":"sum","display-format":"Всего: {0}"}})],1),e("DxSorting",{attrs:{mode:"multiple"}})],1)],1),e("div",{staticClass:"gridContainer"},[e("h4",[t._v("За сегодня")]),e("DxDataGrid",{ref:"gridToday",attrs:{"data-source":t.store.transport,"show-borders":!0,"focused-row-enabled":!0},on:{"cell-prepared":t.setPercentColor}},[e("DxColumn",{attrs:{"data-field":"transport_type",caption:"Вид транспорта","data-type":"string"}}),e("DxColumn",{attrs:{"data-field":"cnt",caption:"Количество","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_cnt",caption:"Успешно прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"failed_cnt",caption:"Не прошли","data-type":"number"}}),e("DxColumn",{attrs:{"data-field":"success_percent",caption:"Процент прошедших","data-type":"string",alignment:"right"}}),e("DxSummary",[e("DxTotalItem",{attrs:{"display-format":"Всего:"}}),e("DxTotalItem",{attrs:{column:"cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"success_cnt","summary-type":"sum","display-format":"Всего: {0}"}}),e("DxTotalItem",{attrs:{column:"failed_cnt","summary-type":"sum","display-format":"Всего: {0}"}})],1),e("DxSorting",{attrs:{mode:"multiple"}})],1)],1)])])},S=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"flex","align-items":"flex-start","justify-content":"space-evenly"}},[e("p",[e("a",{staticClass:"link",attrs:{href:"https://pay.cloudtips.ru/p/2a3d8e17",target:"_blank"}},[e("img",{staticClass:"linkIcon",attrs:{src:a(647),alt:"Пожертвовать"}}),t._v(" Подкинуть монету разработчикам")])]),e("p",[e("a",{staticClass:"link",attrs:{href:"https://t.me/+lUS8sdQPGMkzNDhi",target:"_blank"}},[e("img",{staticClass:"linkIcon",attrs:{src:a(7095),alt:"Ссылка на телеграм"}}),t._v(" Подписывайся, чтобы следить за изменениями")])])])}],T=a(9119),w=a(6224),k=a.n(w),A=(a(8394),{name:"DataGrid",components:{DxDataGrid:T.DxDataGrid,DxColumn:T.DxColumn,DxSummary:T.DxSummary,DxTotalItem:T.DxTotalItem,DxSorting:T.DxSorting,DxSearchPanel:T.DxSearchPanel,DxButton:k()},data(){return{store:g}},methods:{setPercentColor(t){"data"===t.rowType&&"success_percent"===t.column.dataField&&(t.data.Task_Status,t.cellElement.style.color=parseFloat(t.value)>90?"green":"red")}}}),P=A,$=(0,d.Z)(P,C,S,!1,null,"446ad5da",null),j=$.exports,I=function(){var t=this;t._self._c;return t._m(0)},O=[function(){var t=this,e=t._self._c;return e("footer",{staticClass:"page-footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"})]),e("div",{staticClass:"footer-copyright"},[e("div",{staticClass:"container"},[t._v(" © 2022 "),e("a",{staticClass:"grey-text text-lighten-4 footer-link",attrs:{href:"https://t.me/artydevc",target:"_blank"}},[t._v("artydev & Co")]),e("a",{staticClass:"grey-text text-lighten-4 right footer-link",attrs:{href:"https://t.me/nimorozov",target:"_blank"}},[t._v("По вопросам сотрудничества обращаться по ссылке")])])])])}],F={name:"Footer"},Z=F,z=(0,d.Z)(Z,I,O,!1,null,"657666d5",null),G=z.exports,L=a(4399),M=a.n(L),V={name:"App",components:{Header:p,DataGrid:j,Chart:b,Footer:G,DxPopup:M()},data(){return{store:g,popupVisible:!1}},computed:{heightPopup(){return window.innerWidth>=800?"50%":"90%"}},methods:{showPopup(){console.log(this.popupVisible),this.popupVisible=!0},onHiding(){this.popupVisible=!1}}},H=V,N=(0,d.Z)(H,n,s,!1,null,null,null),B=N.exports;r["default"].config.productionTip=!1,new r["default"]({render:t=>t(B)}).$mount("#app")},9574:function(t,e,a){t.exports=a.p+"img/logo.23f284b6.svg"},647:function(t,e,a){t.exports=a.p+"img/ruble.15930bca.svg"},7095:function(t,e,a){t.exports=a.p+"img/telega.3a0f6be9.svg"}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,s){if(!r){var o=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],s=t[d][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(i=!1,s<o&&(o=s));if(i){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[r,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,s,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var d=l(a)}for(e&&e(r);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},r=self["webpackChunktable_of_borders"]=self["webpackChunktable_of_borders"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(1315)}));r=a.O(r)})();
//# sourceMappingURL=app.45ba596d.js.map